---
layout: post        # 必须指定布局，通常是 post 或 page
title: c++    # 显示在侧边栏和页面顶部的标题
description: c++知识  # 可选，用于 SEO 或搜索预览
---
- 量化交易：交易策略，低延迟
- 图形仿真：代数，微积分。
- 机器学习框架：
- 机器人自动控制



# 《c++ tour》

## 1. 基础

可执行文件是由操作系统组合而成的，不可移值。

源码可以在不同系统编译，可移植。



ISO c++ 定义两种东西：

- 语言核心：
- 标准库组件：容器、io等



### 初始化

*=* 形式，*{}* 形式

- **{} 形式对损失的类型转换，会发生错误**

```cpp
int i1 = 7.8;
int i2 {7.8}; // 报错
```

```cpp
// 复数
complex<double> z = 1;
complex<double> z {2.3, 2};
```



用初始值声明变量时候，如果可以从初始值自动推导，使用auto

```cpp
auto b = true;
auto z = sqrt(y);
auto b {true};
```

使用auto时候，往往使用=形式初始化，因为不涉及类型转换。



### 作用域

- 局部（函数表达式）
- 类
- 命名空间
- 全局

### 常量

不可更改两个概念：

- `const` 值在运行期间
- `constexpr` 值在编译期间得出。在只读内存。一般用来定义常量

```cpp
const double sqv = sqrt(v); // 运行期间
constexpr double sqv = 1; // 编译期间
constexpr double sqv = sqrt(v); // 报错！
constexpr double sqv = sqrt(18); // 正确

double sum(const vector<double>& );

```

`constexpr`函数，可以用于变量 也可以 用于常量。但是参数不可被修改。

```cpp
constexpr double nth(double x, int n)   // 假定 n>=0
{
    double res = 1;
    int i = 0;
    while (i<n) {   // while-循环：在条件为真时执行(§1.7.1)
        res*=x;
        ++i;
    }
    return res;
}
```



### 指针数组引用







# 《c++ primer》





## 1.5 类简介

类名Sales_item，定义在头文件Sales_item.h中。

通常用.h后缀，但也有人用.hpp。标准库的头文件通常不加后缀。编译器一般不要求其后缀。

### 1.5.1 Sales_item类

class类：定义了在对象上可以使用的所有动作。

如：可以调用Isbn()提取isbn；用>>,<<读写对象；用+，=，+=赋值，对象相加；



## 2.1 基本内置类型



## 2.6 自定义数据结构

c++通过类定义自定义数据类型，如标准库的string、ostream、istream。

一个例子，sales_item类组织了，一些属性：ISBN、sold、revenue，一些操作：isbn()、<<、+=等等包括运算符在内。

### 2.6.1 定义Sales_data类型

首先，我们可以将数据属性组织在一起，直接访问。命名为Sales_data表示与Sales_item不同。

```c++
struct Sales_data {
	std::string bookNo;
    unsigned units_sold = 0；
    double revenue = 0.0;
};
```

